<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SLA Wallet</title>
    <link rel="shortcut icon" href="/groups/sla/ico" type="image/x-icon">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/thankshell.css">
    <style>
      .modal-area {
        display: none;
        position: fixed;
        z-index: 10;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        padding: 10%;
        background: #000000c0;
      }
      .transaction-log {
        padding: 10px;
        background: white;
        border-radius: .25rem;
      }
    </style>
  </head>
  <body>
    <header>
      <nav class="navbar navbar-expand navbar-light bg-light">
        <div class="navbar-nav">
          <a class="nav-item nav-link" href="/groups/sla">ホーム </a>
          <a class="nav-item nav-link" href="/user/config">設定</a>
        </div>
      </nav>
    </header>


    <main>
      <article class="container-fluid" id="loading-view">
        <p>読み込み中...</p>
      </article>


      <article class="container-fluid" id="visitor-view" style="display:none">
        <p class="row" id="visitor-text">このグループに参加していません</p>
        <button class="row btn btn-primary" id="request-button">参加リクエスト</button>
      </article>


      <article class="container-fluid" id="member-view" style="display:none">
        <section>
          <a class="row" href="https://sketch-life-academy.com/selan-help/">ヘルプ</a>
          <button class="row btn my-2 my-sm-0" id="groupManagerButton" onclick="location.href='/groups/sla/admin';">管理ページへ</button>
        </section>

        <section>
          <img src="/groups/sla/logo" class="row col-6 col-sm-2 offset-3 offset-sm-5 img-fluid" alt="selan-logo">
          <h1 class="text-right">残高<u><span id=carried>---</span> Selan</u></h1>
        </section>

        <section>
          <p class="text-center text-danger" id="send-selan-message">送金後の取り消しはできませんのでご注意ください</p>
          <button class="btn btn-primary" id="send-token-button">送る</button>
        </section>

        <section id="send-token-modal" class="modal-area">
          <div class="card mb-3">
            <div class="card-header">
              <h4>Selanを送る</h4>
            </div>
            <div class="card-body">
              <form class="form-horizontal" id="send-selan">

                <div class="row">
                  <div class="col-xs-12 col-sm-6 col-md-4 form-group">
                    <label>送金先</label>
                    <input class="form-control" type="text" name="to" />
                  </div>
                  <div class="col-xs-12 col-sm-6 col-md-4 form-group">
                    <label>金額</label>
                    <input class="form-control" type="number" min="1" name="amount" value='1000'/>
                  </div>
                  <div class="col-xs-12 col-sm-12 col-md-4 form-group">
                    <label>コメント</label>
                    <input class="form-control" type="text" name="comment"/>
                  </div>
                </div>

                <div class="row justify-content-around">
                  <div class="col-2">
                    <input id='send-token-commit-button' class="btn-primary" type="button" value="送金" />
                    <input id='send-token-cancel-button' class="btn-primary" type="button" value="キャンセル" />
                  </div>
                </div>
              </form>
              <br>
              <p class="text-center text-danger">送金後の取り消しはできませんのでご注意ください</p>
            </div>
          </div>
        </section>

        <section class="transaction-log">
          <h3>取引履歴</h3>
          <p class="text-center text-danger" id="history-message"></p>
          <table id="transaction-list" class="table">
            <thead>
              <tr>
                <th scope="col" class="text-right">取引ID</th>
                <th scope="col">取引日時</th>
                <th scope="col">FROM</th>
                <th scope="col">TO</th>
                <th scope="col" class="text-right">金額(selan)</th>
                <th scope="col" class="text-left">コメント</th>
              </tr>
            </thead>
            <tbody id="history">
            </tbody>
          </table>
        </section>
      </article>
    </main>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.263.1.min.js"></script>
    <!-- cognito scripts -->
    <script src="/js/aws-cognito-sdk.min.js"></script>
    <script src="/js/amazon-cognito-identity.min.js"></script>
    <script src="/js/amazon-cognito-auth.min.js"></script>
    <!-- local scripts -->
    <script src="/js/thankshell.js"></script>
    <script src="/js/bank.js"></script>
    <script src="/js/auth.js"></script>
    <script src="/js/groups/index.js"></script>
  </body>
</html>
